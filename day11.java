import java.util.*;

public class day11 {


    private static final List<StringBuilder> rows = new ArrayList<>();
    private static final Set<Integer> indexesEmptyCol = new TreeSet<>();
    private static final List<int[]> planetIndexes = new ArrayList<>();

    public static void main(String[] args) {

        fillIndexesOfEmptyCol();

        fillListOfRows();

        expandTheGalaxy();

        extractPlanetIndexes();

        findSumOfPath();
    }

    private static void findSumOfPath() {
        long sum = 0L;
        for(int i = 0; i < planetIndexes.size(); i++) {
            for(int j = i+1; j < planetIndexes.size(); j++) {
                int planetOneRow = planetIndexes.get(i)[0];
                int planetOneCol = planetIndexes.get(i)[1];
                int planetTwoRow = planetIndexes.get(j)[0];
                int planetTwoCol = planetIndexes.get(j)[1];
                sum += Math.abs(planetOneRow-planetTwoRow) + Math.abs(planetOneCol-planetTwoCol);
            }
        }
        System.out.println(sum);
    }

    private static void extractPlanetIndexes() {
        for (int i = 0; i < rows.size(); i++) {
            StringBuilder row = rows.get(i);
            int index = 0;
            while((index = row.indexOf("#", index)) != -1){
                planetIndexes.add(new int[]{i, index});
                index++;
            }
        }
    }

    private static void expandTheGalaxy() {
        int offset = 0;
        for (Integer index : indexesEmptyCol) {
            Integer finalOffset = offset;
            rows.forEach(r -> r.insert(index+ finalOffset, "."));
            offset++;
        }
    }

    private static void fillListOfRows() {
        Arrays.stream(INPUT.split("\n")).forEach(r -> {
            rows.add(new StringBuilder(r));
            if(!r.contains("#")) {
                rows.add(new StringBuilder(r));
            }
            int index = 0;
            while((index = r.indexOf("#", index)) != -1){
                indexesEmptyCol.remove(index);
                index++;
            }
        });
    }

    private static void fillIndexesOfEmptyCol() {
        int length = INPUT.indexOf("\n");
        for (int i = 0; i < length; i++) {
            indexesEmptyCol.add(i);
        }
    }

    private static final String INPUT = """
            ..............................#.........................#.......................#..............................#.........................#..
            ....#.....#...................................#.............................................................................................
            .....................................#..................................#...................................................................
            ...................................................#....................................................................#...................
            ...............................................................#..................#...............................#.........................
            ...............#.......................................#...................................#.....#.......#.........................#........
            ............................................................................................................................................
            ............................................................................#...............................................................
            .......#.......................#....................#.......................................................................................
            ........................#..................#....................................................................#...........................
            ..#.......................................................#.........#....................#....................................#.............
            ..............#...........................................................#..........................................................#......
            ......................................#...........................................#..........................#..............................
            .....................................................#.........#..........................................................................#.
            #.......#....................................#.................................................#............................................
            ..............................#.......................................#..............#....................#..........#......................
            ....#...................................#...................................................................................................
            ....................................................................................................#.......................................
            .....................#...........#...............................................#..................................................#.......
            ...............................................#.........#..................................................#..................#............
            ..........................................................................#...............#........................#........................
            .................#.......................................................................................................#..................
            ......................................................................................#..................#..............................#...
            .............#...................................................................................#..........................................
            #...........................#..........#....................................................................................................
            .........#........................................................................#...............................#.........................
            .....................#.........................#.....................................................#....................#......#..........
            .....................................................................#......................................................................
            ................................#.....................................................................................................#.....
            ...............#..........................................#.................#................#..............................................
            ....................................#...........................#...........................................#...............................
            .......#...................#................#.......................................#..............................#......................#.
            ......................#.................................................#................................................#..................
            ....................................................#......................................#............#...................................
            .............#........................#..........................................................#.............#............................
            ...................#..............................................................#.........................................................
            .........................................................#..................#..........#....................................................
            ........................#.....................#..............................................#.........................................#....
            .................................................................#.........................................#...................#............
            ...................................................#........#.....................................#......................#..................
            .........#....................#.......#................................................................#............#.......................
            #.............................................................................#.....................................................#.......
            ..................#.......#.................................................................................................................
            .............#........................................................#........................#................#..........#..............#.
            .....................................................#......................................................................................
            .......#...............#.................#......................#................#..........................................................
            ...................................#.....................................................#............................#.....................
            ............................................................................................................................................
            ...............................#........................................#.........................#.........................................
            .....#.........#...............................#...................#.....................................................................#..
            ............................................................................................................................................
            ..........#......................................................................#..........................................................
            .........................................#.............................................#......#...................#...................#.....
            ........................#.....#........................................................................#....................................
            ...................................................#.....#...................#..............................................................
            ....................................................................#...............#....................................#........#.........
            ...........................#..............................................................#.................................................
            ...#........................................#.........#.......................................................#..............#..............
            ..........#....................................................#................#...........................................................
            ..................................#..................................................................................#...............#......
            .................#..........................................................................................................................
            ............................................................................................................................................
            ............................#.............#................................#.........................#.....................#................
            .........#.........................................#............#.........................#............................................#....
            ....#................................................................#.........................#..............#.............................
            ...................#......................................#.................................................................................
            ..............................#......#..............................................#..............#................#.......................
            .............................................................................#..............................................................
            .......#.........................................................................................................................#..........
            ..............#............#....................#...................#............#.......#.................................#................
            ................................#......................#................................................#.................................#.
            ............................................................................................................................................
            .#......................#......................................#...............................................#............................
            ........................................................................#............................#......................................
            ..................................................#..........................#..........................................#.......#...........
            .........................................#..........................................#....................#..............................#...
            ......#...............#.................................#...................................................................................
            ....................................#.......................................................................................................
            ...............................................................#................#........#.........................#..........#.............
            ..#........#.....#..........#...................#...................................................#.......................................
            .......................................#...........................#...........................................#............................
            .............................................................................#..............................................................
            .......................#..................................#............#...............#.......#.....................................#......
            ............................................................................................................................................
            ............#.....#................................#...........#...................................................#............#...........
            ...........................................#..............................................#.................................................
            ..................................#..............................................#.....................#....................................
            ..................................................................#.........................................................................
            ...#..........................#............................................#................................................................
            .......................................................#..........................................#........#........#.......................
            .......................................#.................................................................................#......#...........
            .................................................#..........#.........#.......................#.............................................
            ............................................................................................................................................
            ....#...........#........................................................................................#.......#...........#..............
            ......................#...........#.......#....................#..............#.....#.......................................................
            .........#...............................................................................#..................................................
            ..................................................#.........................................................................................
            ...................#......................................#...........................................#...........................#......#..
            .............#..........#.....................#....................#........................................................................
            ...............................................................................#.....#.....#.................#......#.......................
            ...#.........................#...................................................................#........................#.................
            ............................................................................................................................................
            .......#.........#..........................................#...............................................................................
            .................................#..............................................................................................#...........
            ........................................................................#..............#.......#..................#........................#
            .#...................................#......#......#........................................................................................
            ............................................................................................................................................
            .............#................#............................................................#..............#.................................
            ......#.....................................................#.......................#................#...............................#......
            ...................#..............................................#.......................................................#.................
            ....................................#.....................................#.................................................................
            ........................................................................................................#.......#...........................
            ....#.....................................#...............#...................#...............#.........................................#...
            .....................................................................................#......................................................
            ....................................................#...........#......................................................#............#.......
            ........................#...................................................................................#...............................
            ............................................................................#.....#.........#......................#........................
            ...#.....#.....#.......................#....................................................................................................
            ............................................................................................................................................
            ......................................................................#.....................................................................
            ......................................................................................#............#..........................#.............
            .....#.............#.........................................................#................#.............................................
            ..............................#..........#............#.....#...........................................................#.............#.....
            ........................................................................#................#..................................................
            ..................................................................................#.........................................................
            ......................#.............#....................#........................................................#.........................
            .................#................................#.............#.............#.............................................................
            ............................................................................................................................................
            ...#..........................#.............#....................................................#.......#...............#.........#........
            ........#...........#.................#..................................................................................................#..
            ..............#.................................#.....#..........................................................#..........................
            ...........................................................#......#.........................................................................
            ............................#..................................................#.....................................#......................
            ...................................................#.......................................#................................................
            .#................#................#...............................................#...........................................#.....#......
            .............#....................................................................................................#.........................
            .........................#...........................................#.....#......................#..........#..............................
            ........................................#...................#...........................................#...................................
            ...#......#............................................................................#....................................................
            ...............................................#.......................................................................#....................""";
}